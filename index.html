<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>4192 - The Jaggernauts</title>
  <link href="css/main.css" rel="stylesheet">
  <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet">
</head>

<body>
<div id="title-bar">
  <p id="title">
    4192 - THE JAGGERNAUTS
  </p>
  <div id="title-bar-btns">
    <button id="min-btn"><i class="fa fa-window-minimize"></i></button>
    <button id="max-btn"><i class="fa fa-window-maximize"></i></button>
    <button id="close-btn"><i class="fa fa-window-close"></i></button>
  </div>
</div>

<div class="container">
  <div class="header-row">
    <div class="panel header-panel header-center">
      <h1 id="timer">2:15</h1>
      <h2 id="competition-mode">Teleop</h2>
      <p class="status">Robot Status: <span class="danger" id="robot-state"></span></p>
    </div>

    <div class="panel header-panel usage">
      <div class="circle-graphs">
        <div class="circleContainer">
          <div id="cpuUsage"></div>
        </div>
        <div class="circleContainer">
          <div id="ramUsage"></div>
        </div>
        <div class="circleContainer">
          <div id="powerDraw"></div>
        </div>
      </div>

      <div class="current-graph battery-graph">
        <p class="current-label" style="flex: 1">Battery</p>
        <progress max="13" value="5" class="current-progress-bar" id="batteryBar"></progress>
        <p class="current-numerical">12.6V</p>
      </div>
    </div>

    <div class="panel header-panel compass">
      <div class="compass-container">
        <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300">
          <defs>
            <style>
              .cls-3 {
                stroke-width: 6px;
                stroke: url(#linear-gradient);
              }
            </style>
            <linearGradient id="linear-gradient" x1="149.5" y1="58.79" x2="149.5" y2="240.21"
                            gradientUnits="userSpaceOnUse">
              <stop offset="0" stop-color="#00a6fb"></stop>
              <stop offset="0.35" stop-color="#30333c"></stop>
              <stop offset="0.65" stop-color="#30333c"></stop>
              <stop offset="1.0" stop-color="#1e222b"></stop>
            </linearGradient>
          </defs>
          <title>compass</title>
          <line style="stroke: #00A6FB" class="cls-1" x1="150" y1="41.25" x2="150"></line>
          <line class="cls-1" x1="73.1" y1="73.1" x2="43.93" y2="43.93"></line>
          <line class="cls-1" x1="41.25" y1="150" y2="150"></line>
          <line class="cls-1" x1="73.1" y1="226.9" x2="43.93" y2="256.07"></line>
          <line class="cls-1" x1="150" y1="258.75" x2="150" y2="300"></line>
          <line class="cls-1" x1="226.9" y1="226.9" x2="256.07" y2="256.07"></line>
          <line class="cls-1" x1="258.75" y1="150" x2="300" y2="150"></line>
          <line class="cls-1" x1="226.9" y1="73.1" x2="256.07" y2="43.93"></line>
          <line class="cls-2" x1="108.38" y1="49.53" x2="100.49" y2="30.47"></line>
          <line class="cls-2" x1="49.53" y1="108.38" x2="30.47" y2="100.49"></line>
          <line class="cls-2" x1="49.53" y1="191.62" x2="30.47" y2="199.51"></line>
          <line class="cls-2" x1="108.38" y1="250.47" x2="100.49" y2="269.53"></line>
          <line class="cls-2" x1="191.62" y1="250.47" x2="199.51" y2="269.53"></line>
          <line class="cls-2" x1="250.47" y1="191.62" x2="269.53" y2="199.51"></line>
          <line class="cls-2" x1="250.47" y1="108.38" x2="269.53" y2="100.49"></line>
          <line class="cls-2" x1="191.62" y1="49.53" x2="199.51" y2="30.47"></line>
          <polygon class="cls-3"
                   points="159.5 213.5 150 233.5 139.5 213.5 139.5 85.5 150 65.5 159.5 85.5 159.5 213.5"></polygon>
        </svg>
        <h3 id="gyroAngle" class="graphic-info">0Â°</h3>
      </div>
    </div>

    <div class="panel header-panel header-right actuator">
      <div class="actuator-container">
        <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 300">
          <title>actuator</title>
          <rect x="42" y="82" fill="none" stroke="#F1F2F2" stroke-width="4" stroke-miterlimit="10" width="116"
                height="202"></rect>
          <rect x="85" y="220" fill="#F1F2F2" width="30" height="54"></rect>
          <line fill="none" stroke="#F1F2F2" stroke-width="7" stroke-miterlimit="10" x1="69" y1="202" x2="131"
                y2="202"></line>
          <line fill="none" stroke="#F1F2F2" stroke-width="7" stroke-miterlimit="10" x1="69" y1="106" x2="131"
                y2="106"></line>
          <rect x="96" y="32" fill="#F1F2F2" width="8" height="188" id="actuator-bar"></rect>
          <rect x="56.333" y="16" fill="none" stroke="#F1F2F2" stroke-width="4" stroke-miterlimit="10" width="87.334"
                height="16"></rect>
        </svg>
        <h3 id="actuatorPosition" class="graphic-info">Retracted</h3>
      </div>
    </div>
  </div>

  <div class="control-row">
    <div class="panel current-data">
      <h2 class="current-title">Current Usage</h2>

      <div class="current-graph">
        <p class="current-label">Front Left</p>
        <progress max="40" value="37" class="current-progress-bar" id="current-frontLeft"></progress>
        <p class="current-numerical">12.0A</p>
      </div>

      <div class="current-graph">
        <p class="current-label">Front Right</p>
        <progress max="40" value="30" class="current-progress-bar" id="current-frontRight"></progress>
        <p class="current-numerical">12.0A</p>
      </div>

      <div class="current-graph">
        <p class="current-label">Back Left</p>
        <progress max="40" value="35" class="current-progress-bar" id="current-backLeft"></progress>
        <p class="current-numerical">12.0A</p>
      </div>

      <div class="current-graph">
        <p class="current-label">Back Right</p>
        <progress max="40" value="40" class="current-progress-bar" id="current-backRight"></progress>
        <p class="current-numerical">12.0A</p>
      </div>

      <div class="current-graph">
        <p class="current-label">Climber</p>
        <progress max="40" value="8" class="current-progress-bar" id="current-climber"></progress>
        <p class="current-numerical">12.0A</p>
      </div>

      <div class="current-graph">
        <p class="current-label">Actuator</p>
        <progress max="40" value="24" class="current-progress-bar" id="current-actuator"></progress>
        <p class="current-numerical">12.0A</p>
      </div>

      <div class="current-graph">
        <p class="current-label">VRM</p>
        <progress max="40" value="15" class="current-progress-bar" id="current-vrm"></progress>
        <p class="current-numerical">12.0A</p>
      </div>
    </div>

    <div class="panel controlCenter" id="controlCenter">
      <h2>Control Center</h2>
      <div class="autonSelector">
        <h3>Autonomous Selector</h3>
        <div class="auton-buttons">
          <button class="autonButton" onclick="autonSelect('default')" id="default">Baseline</button>
          <button class="autonButton" onclick="autonSelect('left')" id="left">Left</button>
          <button class="autonButton" onclick="autonSelect('middle')" id="middle">Middle</button>
          <button class="autonButton" onclick="autonSelect('right')" id="right">Right</button>
        </div>
      </div>

      <hr>


    </div>

    <!--<div id="panel camera"></div>-->

    <div class="pid-graphs">
      <div class="graphs-container">
        <div class="tab-container">
          <button class="tab" id="defaultOpen" onclick="openPID(event, 'drivePID')">Drive</button>
          <button class="tab" onclick="openPID(event, 'gyroPID')">Gyro</button>
          <button class="tab" onclick="openPID(event, 'flywheelPID')">Flywheel</button>
        </div>

        <div class="tabContent" id="drivePID">
          <h3>Drive PID</h3>
          <div class="graphContainer">
            <canvas id="drivePIDGraph" class="graph" height="250"></canvas>
            <div class="value-container">
              <p class="graphValue" id="leftEncoderValue">Left Encoder: </p>
              <p class="graphValue" id="rightEncoderValue">Right Encoder: </p>
              <p class="graphValue" id="targetEncoderValue">Target: </p>
            </div>
          </div>

          <div class="constants">
            <label class="pidConstantInput"><span class="constant-label">Kp</span><input type="text" value="0.025">
              <button>Set</button>
            </label>

            <label class="pidConstantInput"><span class="constant-label">Ki</span><input type="text" value="0.0">
              <button>Set</button>
            </label>

            <label class="pidConstantInput"><span class="constant-label">Kd</span><input type="text" value="0.5">
              <button>Set</button>
            </label>
          </div>
        </div>

        <div class="tabContent" id="gyroPID">
          <h3>Gyroscope PID</h3>
          <div class="graphContainer">
            <canvas id="gyroPIDGraph" class="graph" height="250"></canvas>
            <div class="value-container">
              <p class="graphValue" id="gyroValue">Heading: </p>
              <p class="graphValue" id="gyroTarget">Target Heading: </p>
            </div>
          </div>
          <div class="constants">
            <label class="pidConstantInput"><span class="constant-label">Kp</span><input type="text" value="0.08">
              <button>Set</button>
            </label>

            <label class="pidConstantInput"><span class="constant-label">Ki</span><input type="text" value="0.0">
              <button>Set</button>
            </label>

            <label class="pidConstantInput"><span class="constant-label">Kd</span><input type="text" value="0.0">
              <button>Set</button>
            </label>
          </div>
        </div>

        <div class="tabContent" id="flywheelPID">
          <h3>Flywheel PID</h3>
          <div class="graphContainer">
            <canvas id="flywheelPIDGraph" class="graph" height="250"></canvas>
            <div class="value-container">
              <p class="graphValue" id="flywheelVelocity">Velocity: </p>
              <p class="graphValue" id="flywhelTarget">Target Velocity: </p>
            </div>
          </div>
          <div class="constants">
            <label class="pidConstantInput"><span class="constant-label">Kp</span><input type="text" value="0.04">
              <button>Set</button>
            </label>

            <label class="pidConstantInput"><span class="constant-label">Ki</span><input type="text" value="0.0">
              <button>Set</button>
            </label>

            <label class="pidConstantInput"><span class="constant-label">Kd</span><input type="text" value="0.7">
              <button>Set</button>
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- Insert this line above script imports  -->
<script>if (typeof module === 'object') {
  window.module = module;
  module = undefined;
}</script>

<script>window.SmoothieChart = require('./scripts/smoothie.js');</script>

<!-- normal script imports etc  -->
<script src="tryIPC.js"></script>
<script src="networktables/networktables.js"></script>
<script src="scripts/jquery-3.2.1.min.js"></script>
<script src="ui.js"></script>
<script src="scripts/cssRefresh.js"></script>
<script src="scripts/circles.js"></script>
<script src="scripts/smoothie.js"></script>
<script src="scripts/scripts.js"></script>

</body>

</html>
